/* AbstractSignalTypeConfigurer.java created 2008-02-01 modified 2010-08-26
 * 
 */

package org.signalml.domain.signal;

import java.util.ArrayList;
import java.util.Collection;
import java.util.Collections;
import java.util.List;

import org.signalml.domain.montage.filter.SampleFilterDefinition;
import org.signalml.domain.montage.filter.TimeDomainSampleFilter;

/** AbstractSignalTypeConfigurer
 *
 * 
 * @author Michal Dobaczewski &copy; 2007-2008 CC Otwarte Systemy Komputerowe Sp. z o.o.
 */
public abstract class AbstractSignalTypeConfigurer implements SignalTypeConfigurer {

        private static final List<SampleFilterDefinition> predefinedFilters = getAllPredefinedFilters();

	private static List<SampleFilterDefinition> getAllPredefinedFilters() {
		ArrayList<SampleFilterDefinition> filters = new ArrayList<SampleFilterDefinition>();

                //b,a generated in Python (import scipy.signal as signal)

                //b,a=signal.iirdesign(wp = 0.3125, ws=0.46875 , gstop= 40, gpass=3, ftype='cheby1')
                filters.add( new TimeDomainSampleFilter("sampleFilter.td.lowPass", "0-20 Hz",
                new double[] {
                1.0000000000000000000000000000000000000000000000000000000000000000,
                -3.3464713712644158505327141028828918933868408203125000000000000000,
                5.3144381825969482235905161360278725624084472656250000000000000000,
                -4.7969354817306388838460406986996531486511230468750000000000000000,
                2.4468123897669520339093196525936946272850036621093750000000000000,
                -0.5700791722915911075020289899839553982019424438476562500000000000},
                new double[] {
                0.0014926420961642345320435909528100637544412165880203247070312500,
                0.0074632104808211689739305683133352431468665599822998046875000000,
                0.0149264209616423431520315645570917695295065641403198242187500000,
                0.0149264209616423431520315645570917695295065641403198242187500000,
                0.0074632104808211689739305683133352431468665599822998046875000000,
                0.0014926420961642345320435909528100637544412165880203247070312500}
                ) );

                //b,a=signal.iirdesign(wp = 0.46875, ws=0.703125 , gstop= 40, gpass=3, ftype='cheby1')
                filters.add( new TimeDomainSampleFilter("sampleFilter.td.lowPass", "0-30 Hz",
                new double[] {
                1.0000000000000000000000000000000000000000000000000000000000000000,
                -1.3663575204543101371257307619089260697364807128906250000000000000,
                1.6490100140130476980004914366872981190681457519531250000000000000,
                -1.0558661460033886836384908747277222573757171630859375000000000000,
                0.4302671751890719264999063398136058822274208068847656250000000000},
                new double[] {
                0.0290723919713537781728263098557363264262676239013671875000000000,
                0.1162895678854151404468808550518588162958621978759765625000000000,
                0.1744343518281226967925334747633314691483974456787109375000000000,
                0.1162895678854151404468808550518588162958621978759765625000000000,
                0.0290723919713537781728263098557363264262676239013671875000000000}
                ) );

                //b,a=signal.iirdesign(wp = 0.78125, ws=1.171875 , gstop= 40, gpass=3, ftype='cheby1')
                filters.add( new TimeDomainSampleFilter("sampleFilter.td.lowPass", "0-50 Hz",
                new double[] {
                1.0000000000000000000000000000000000000000000000000000000000000000,
                2.9708497540446878737441238627070561051368713378906250000000000000,
                4.9467680279679635546585814154241234064102172851562500000000000000,
                4.9623410910775813675854806206189095973968505859375000000000000000,
                3.7337594805397529285073687788099050521850585937500000000000000000,
                2.1471275704996375388589058275101706385612487792968750000000000000,
                1.3126793384777211137759422854287549853324890136718750000000000000,
                0.6355502150795812044137278462585527449846267700195312500000000000,
                0.2561094996123422506961730960028944537043571472167968750000000000},
                new double[] {
                0.0607428129214719059181248894674354232847690582275390625000000000,
                0.4859425033717754138784528095129644498229026794433593750000000000,
                1.7007987618012141428636141426977701485157012939453125000000000000,
                3.4015975236024282857272282853955402970314025878906250000000000000,
                4.2519969045030387988504116947297006845474243164062500000000000000,
                3.4015975236024309502624873857712373137474060058593750000000000000,
                1.7007987618012141428636141426977701485157012939453125000000000000,
                0.4859425033717754138784528095129644498229026794433593750000000000,
                0.0607428129214719059181248894674354232847690582275390625000000000}
                ) );

                //b,a=signal.iirdesign(wp = 0.0015625, ws=0.00104166666667 , gstop= 40, gpass=3, ftype='cheby1')
                filters.add( new TimeDomainSampleFilter("sampleFilter.td.highPass", "0.1-.. Hz",
                new double[] {
                1.0000000000000000000000000000000000000000000000000000000000000000,
                -4.9683290640172588226164407387841492891311645507812500000000000000,
                9.8735280072577165100256024743430316448211669921875000000000000000,
                -9.8106069976801801857391183148138225078582763671875000000000000000,
                4.8739462350084492570090333174448460340499877929687500000000000000,
                -0.9685381805239507979621293998206965625286102294921875000000000000},
                new double[] {
                0.9842171401402363128951833459723275154829025268554687500000000000,
                -4.9210857007011794550521699420642107725143432617187500000000000000,
                9.8421714014023606864611792843788862228393554687500000000000000000,
                -9.8421714014023606864611792843788862228393554687500000000000000000,
                4.9210857007011794550521699420642107725143432617187500000000000000,
                -0.9842171401402363128951833459723275154829025268554687500000000000}
                ) );

                //b,a=signal.iirdesign(wp = 0.0078125, ws=0.00520833333333 , gstop= 40, gpass=3, ftype='cheby1')
                filters.add( new TimeDomainSampleFilter("sampleFilter.td.highPass", "0.5-.. Hz",
                new double[] {
                1.0000000000000000000000000000000000000000000000000000000000000000,
                -4.8470635657474971935698704328387975692749023437500000000000000000,
                9.3936043636177988247482062433846294879913330078125000000000000000,
                -9.0981163240700144712036490091122686862945556640625000000000000000,
                4.4036772271864599304080911679193377494812011718750000000000000000,
                -0.8521015694766067571919165857252664864063262939453125000000000000},
                new double[] {
                0.9248300953155745851574920379789546132087707519531250000000000000,
                -4.6241504765778715935198306397069245576858520507812500000000000000,
                9.2483009531557449633965006796643137931823730468750000000000000000,
                -9.2483009531557449633965006796643137931823730468750000000000000000,
                4.6241504765778715935198306397069245576858520507812500000000000000,
                -0.9248300953155745851574920379789546132087707519531250000000000000}
                ) );

                //b,a=signal.iirdesign(wp = 0.015625, ws=0.0104166666667 , gstop= 40, gpass=3, ftype='cheby1')
                filters.add( new TimeDomainSampleFilter("sampleFilter.td.highPass", "1-.. Hz",
                new double[] {
                1.0000000000000000000000000000000000000000000000000000000000000000,
                -4.7058076517491791435077175265178084373474121093750000000000000000,
                8.8448671297520693457272500381805002689361572265625000000000000000,
                -8.2973606583410095538511086488142609596252441406250000000000000000,
                3.8834060222017616759160318906651809811592102050781250000000000000,
                -0.7251009346225363305649125322815962135791778564453125000000000000},
                new double[] {
                0.8580169498958299945101657613122370094060897827148437500000000000,
                -4.2900847494791483072162918688263744115829467773437500000000000000,
                8.5801694989582983907894231379032135009765625000000000000000000000,
                -8.5801694989582983907894231379032135009765625000000000000000000000,
                4.2900847494791483072162918688263744115829467773437500000000000000,
                -0.8580169498958299945101657613122370094060897827148437500000000000}
                ) );

                //b,a=signal.iirdesign(wp = 0.03125, ws=0.0208333333333 , gstop= 40, gpass=3, ftype='cheby1')
                filters.add( new TimeDomainSampleFilter("sampleFilter.td.highPass", "2-.. Hz",
                new double[] {
                1.0000000000000000000000000000000000000000000000000000000000000000,
                -4.4486104007786213543340636533685028553009033203125000000000000000,
                7.8823929335789015837576698686461895704269409179687500000000000000,
                -6.9380296616473913218214875087141990661621093750000000000000000000,
                3.0242300214734640917413344141095876693725585937500000000000000000,
                -0.5198741249234695160907904210034757852554321289062500000000000000},
                new double[] {
                0.7441605357000579124004957520810421556234359741210937500000000000,
                -3.7208026785002883407571516727330163121223449707031250000000000000,
                7.4416053570005775696927230455912649631500244140625000000000000000,
                -7.4416053570005775696927230455912649631500244140625000000000000000,
                3.7208026785002883407571516727330163121223449707031250000000000000,
                -0.7441605357000579124004957520810421556234359741210937500000000000}
                ) );

                //b,a=signal.iirdesign(wp = 0.078125, ws=0.0520833333333 , gstop= 40, gpass=3, ftype='cheby1')
                filters.add( new TimeDomainSampleFilter("sampleFilter.td.highPass", "5-.. Hz",
                new double[] {
                1.0000000000000000000000000000000000000000000000000000000000000000,
                -3.7810149027063286730765412357868626713752746582031250000000000000,
                5.6847007899587422841136685747187584638595581054687500000000000000,
                -4.1442428652711198466818132146727293729782104492187500000000000000,
                1.3939736470638048881909298870596103370189666748046875000000000000,
                -0.1460588396290199431071243907354073598980903625488281250000000000},
                new double[] {
                0.5046872201446568340088560944423079490661621093750000000000000000,
                -2.5234361007232832818658607720863074064254760742187500000000000000,
                5.0468722014465674519101412442978471517562866210937500000000000000,
                -5.0468722014465674519101412442978471517562866210937500000000000000,
                2.5234361007232832818658607720863074064254760742187500000000000000,
                -0.5046872201446568340088560944423079490661621093750000000000000000}
                ) );

                //b,a = signal.iirdesign(wp = [0.520833333333, 1] , ws=[0.744047619048, 0.8203125] , gstop= 40, gpass=3, ftype='cheby1')
                filters.add( new TimeDomainSampleFilter("sampleFilter.td.notch", "50 Hz",
                new double[] {
                1.0000000000000000000000000000000000000000000000000000000000000000,
                2.3445392270471461237946186884073540568351745605468750000000000000,
                2.1748051534848626964446793863316997885704040527343750000000000000,
                1.4728804171335236894435638532740995287895202636718750000000000000,
                0.6882285740185243305688800319330766797065734863281250000000000000,
                -0.2669598691312515814644257261534221470355987548828125000000000000,
                -0.2992353075642341098117071851447690278291702270507812500000000000},
                new double[] {
                0.1575604158769388918326370685463189147412776947021484375000000000,
                0.7378122565429632295774808881105855107307434082031250000000000000,
                1.6243387940926379275907720511895604431629180908203125000000000000,
                2.0748352619634902183065605640877038240432739257812500000000000000,
                1.6243387940926379275907720511895604431629180908203125000000000000,
                0.7378122565429632295774808881105855107307434082031250000000000000,
                0.1575604158769388918326370685463189147412776947021484375000000000}
                ) );

                //b,a = signal.iirdesign(wp = [0.625, 1] , ws=[0.892857142857, 0.984375] , gstop= 40, gpass=3, ftype='cheby1')
                filters.add( new TimeDomainSampleFilter("sampleFilter.td.notch", "60 Hz",
                new double[] {
                1.0000000000000000000000000000000000000000000000000000000000000000,
                3.1475263557772357181363531708484515547752380371093750000000000000,
                3.9827058524043450482565731363138183951377868652343750000000000000,
                2.7745402114228863155176441068761050701141357421875000000000000000,
                0.9156435221852369243933367215504404157400131225585937500000000000,
                -0.2993842758031700079790482504904503002762794494628906250000000000,
                -0.2756662671977127554434616740763885900378227233886718750000000000},
                new double[] {
                0.1779166509221177805422087203623959794640541076660156250000000000,
                1.0586318554583462603346788455382920801639556884765625000000000000,
                2.6334249027738181325730693060904741287231445312500000000000000000,
                3.5054185804802604486951622675405815243721008300781250000000000000,
                2.6334249027738181325730693060904741287231445312500000000000000000,
                1.0586318554583462603346788455382920801639556884765625000000000000,
                0.1779166509221177805422087203623959794640541076660156250000000000}
                ) );

				
		return Collections.unmodifiableList(filters);
	}
	
	@Override
	public int getPredefinedFilterCount() {
		return predefinedFilters.size();
	}

	@Override
	public Collection<SampleFilterDefinition> getPredefinedFilters() {
		return predefinedFilters;
	}
	
	@Override
	public SampleFilterDefinition getPredefinedFilterAt(int index) {
		return predefinedFilters.get(index);
	}
	
}
